{"ast":null,"code":"import _objectSpread from\"D:/PROJECTS/IdeaFlowProject/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate,useParams,Link}from'react-router-dom';import{FaStar}from'react-icons/fa';import styles from'./ProfileView.module.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProfileView(){const navigate=useNavigate();const{userId:paramUserId}=useParams();const[userId,setUserId]=useState(paramUserId);const[currentUserId,setCurrentUserId]=useState(null);const[userEmail,setUserEmail]=useState('');const[activeTab,setActiveTab]=useState('projects');const[formData,setFormData]=useState({photo:'',firstName:'',lastName:'',username:'',about:''});const[currentUserData,setCurrentUserData]=useState({firstName:'',lastName:'',photo:''});const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[projectsAsCustomer,setProjectsAsCustomer]=useState([]);const[completedExecutorProjects,setCompletedExecutorProjects]=useState([]);const[inProcessExecutorCases,setInProcessExecutorCases]=useState([]);const[reviews,setReviews]=useState([]);const[newReviewText,setNewReviewText]=useState('');const[newReviewRating,setNewReviewRating]=useState(0);const[hoverRating,setHoverRating]=useState(0);const[validationErrors,setValidationErrors]=useState({text:'',rating:''});const[isMenuOpen,setIsMenuOpen]=useState(false);const toggleMenu=()=>{setIsMenuOpen(!isMenuOpen);};useEffect(()=>{const checkAuth=()=>{const storedUserId=localStorage.getItem('currentUserId');if(!storedUserId){navigate('/signin');return;}setCurrentUserId(storedUserId);};checkAuth();},[navigate]);useEffect(()=>{const fetchCurrentUser=async()=>{try{const storedUserId=localStorage.getItem('currentUserId');if(storedUserId){const res=await fetch(\"http://localhost:3001/profile/\".concat(storedUserId));if(res.ok){const userData=await res.json();setCurrentUserId(userData.id);setCurrentUserData({firstName:userData.firstName||'',lastName:userData.lastName||'',photo:userData.photo||''});}}}catch(err){console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:',err);}};if(currentUserId){fetchCurrentUser();}},[currentUserId]);useEffect(()=>{if(!userId){navigate('/signin');return;}setUserId(userId);},[navigate,userId]);useEffect(()=>{if(!userId)return;const fetchUserData=async()=>{try{setLoading(true);const res=await fetch(\"http://localhost:3001/profile/\".concat(userId));if(!res.ok)throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');const data=await res.json();setFormData({photo:data.photo||'',firstName:data.firstName||'',lastName:data.lastName||'',username:data.email||'',about:data.description||''});setUserEmail(data.email||'');}catch(err){setError(err.message);}finally{setLoading(false);}};const fetchProjectsAsCustomer=async()=>{try{const resProjects=await fetch(\"http://localhost:3001/projects?userId=\".concat(userId));if(!resProjects.ok)throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∫–∞–∫ –∑–∞–∫–∞–∑—á–∏–∫–∞');const projectsDataRaw=await resProjects.json();const projectsData=projectsDataRaw.filter(p=>p.status==='closed');const resCases=await fetch(\"http://localhost:3001/cases?userId=\".concat(userId));if(!resCases.ok)throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–µ–π—Å–æ–≤ –∑–∞–∫–∞–∑—á–∏–∫–∞');const casesDataRaw=await resCases.json();const casesData=casesDataRaw.filter(c=>c.status==='open');const combined=[...casesData,...projectsData];combined.sort((a,b)=>{if(a.status==='open'&&b.status!=='open')return-1;if(a.status!=='open'&&b.status==='open')return 1;return 0;});setProjectsAsCustomer(combined);}catch(error){console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –∫–µ–π—Å–æ–≤:',error);setProjectsAsCustomer([]);}};const fetchCompletedExecutorProjects=async()=>{try{const res=await fetch(\"http://localhost:3001/projects?executorEmail=\".concat(encodeURIComponent(userEmail)));if(!res.ok)throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è');const data=await res.json();const closedProjects=data.filter(p=>p.status==='closed');setCompletedExecutorProjects(closedProjects);}catch(_unused){setCompletedExecutorProjects([]);}};const fetchInProcessExecutorCases=async()=>{try{const res=await fetch(\"http://localhost:3001/processed-cases\");if(!res.ok)throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–Ω—è—Ç—ã—Ö –∫–µ–π—Å–æ–≤');const data=await res.json();const filtered=data.filter(c=>c.executorId===Number(userId)&&c.status==='in_process');setInProcessExecutorCases(filtered);}catch(_unused2){setInProcessExecutorCases([]);}};const fetchReviews=async()=>{try{const response=await fetch(\"http://localhost:3001/reviews?userId=\".concat(userId));if(!response.ok)throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–∑—ã–≤–æ–≤');const data=await response.json();setReviews(data);}catch(err){console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–∑—ã–≤–æ–≤:',err);}};fetchUserData().then(()=>{fetchProjectsAsCustomer();fetchCompletedExecutorProjects();fetchInProcessExecutorCases();fetchReviews();});},[userId,userEmail,navigate]);const renderStars=rating=>/*#__PURE__*/_jsx(_Fragment,{children:[...Array(5)].map((_,idx)=>{const starValue=idx+1;return/*#__PURE__*/_jsx(FaStar,{size:18,color:starValue<=rating?'#ffbe5a':'#ccc'},idx);})});const averageRating=reviews.length>0?(reviews.reduce((acc,r)=>acc+r.rating,0)/reviews.length).toFixed(1):0;const validateReview=()=>{const errors={text:'',rating:''};if(newReviewText.trim()===''){errors.text='–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞–ø–∏—à–∏—Ç–µ —Ç–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞';}if(newReviewRating===0){errors.rating='–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ—Ü–µ–Ω–∫—É';}setValidationErrors(errors);return!errors.text&&!errors.rating;};const handleAddReview=async()=>{setValidationErrors({text:'',rating:''});if(!validateReview()){return;}if(!currentUserId){alert('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞');return;}if(currentUserId===userId){alert('–ù–µ–ª—å–∑—è –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–∑—ã–≤ —Å–∞–º–æ–º—É —Å–µ–±–µ');return;}const newReview={userId,reviewerId:currentUserId,reviewerName:\"\".concat(currentUserData.firstName,\" \").concat(currentUserData.lastName).trim()||'Anonymous',reviewerPhoto:currentUserData.photo||'',text:newReviewText.trim(),rating:newReviewRating};try{const res=await fetch('http://localhost:3001/reviews',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newReview)});if(!res.ok)throw new Error('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞');setNewReviewText('');setNewReviewRating(0);const updatedReviews=await res.json();setReviews(updatedReviews);setValidationErrors({text:'',rating:''});}catch(err){console.error('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞:',err);alert(err.message);}};const formatReviewerPhoto=photoPath=>{if(!photoPath)return null;if(photoPath.startsWith('http'))return photoPath;if(photoPath.startsWith('/'))return\"http://localhost:3001\".concat(photoPath);return photoPath;};const isOwnProfile=()=>{return currentUserId&&userId&&currentUserId.toString()===userId.toString();};const renderTabContent=()=>{switch(activeTab){case'projects':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.projectsTitle,children:\"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.tabContent,\" \").concat(styles.projectsTab),children:projectsAsCustomer.map(p=>/*#__PURE__*/_jsx(\"div\",{className:styles.projectCard,children:p.status==='open'?/*#__PURE__*/_jsxs(Link,{to:\"/cases/\".concat(p.id),className:styles.casesLink,children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:3001\".concat(p.cover||''),alt:\"\\u0424\\u043E\\u0442\\u043E \\u0438\\u0441\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044F \".concat(p.executorEmail||'–ù–µ —É–∫–∞–∑–∞–Ω'),className:styles.projectImage}),/*#__PURE__*/_jsxs(\"div\",{className:styles.projectInfo,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.projectTopic,children:p.theme||p.title}),/*#__PURE__*/_jsxs(\"div\",{className:styles.projectTitle,children:[\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435: \",p.title]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.projectStatus,children:[\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441: \",p.status||'–Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω']})]})]}):/*#__PURE__*/_jsxs(Link,{to:\"/projects/\".concat(p.id),className:styles.projectLink,children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:3001\".concat(p.cover||''),alt:\"\\u0424\\u043E\\u0442\\u043E \\u0438\\u0441\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044F \".concat(p.executorEmail||'–ù–µ —É–∫–∞–∑–∞–Ω'),className:styles.projectImage}),/*#__PURE__*/_jsxs(\"div\",{className:styles.projectInfo,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.projectPerformer,children:[\"\\u0418\\u0441\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C: \",p.executorEmail||'–ù–µ —É–∫–∞–∑–∞–Ω']}),/*#__PURE__*/_jsx(\"div\",{className:styles.projectTopic,children:p.theme||p.title}),/*#__PURE__*/_jsxs(\"div\",{className:styles.projectTitle,children:[\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435: \",p.title]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.projectStatus,children:[\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441: \",p.status||'–Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω']})]})]})},p.id))})]});case'cases':// –§–∏–ª—å—Ç—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç—ã –ø–æ executorEmail –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —á–µ–π –ø—Ä–æ—Ñ–∏–ª—å –º—ã —Å–º–æ—Ç—Ä–∏–º\nconst userCompletedProjects=completedExecutorProjects.filter(proj=>proj.executorEmail===userEmail);return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.tabContent,\" \").concat(styles.casesTab),children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0417\\u0430\\u0432\\u0435\\u0440\\u0448\\u0451\\u043D\\u043D\\u044B\\u0435 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"}),userCompletedProjects.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u043E\\u043A\\u0430 \\u043F\\u0443\\u0441\\u0442\\u043E\"}):/*#__PURE__*/_jsx(\"div\",{className:styles.casesGrid,children:userCompletedProjects.map(proj=>/*#__PURE__*/_jsx(\"div\",{className:styles.caseCard,children:/*#__PURE__*/_jsx(Link,{to:\"/projects/\".concat(proj.id),className:styles.projCardLink,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.projectCard,children:[/*#__PURE__*/_jsx(\"img\",{className:styles.projectImage,src:\"http://localhost:3001\".concat(proj.cover||''),alt:\"\\u0424\\u043E\\u0442\\u043E \\u0438\\u0441\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044F \".concat(proj.executorEmail)}),/*#__PURE__*/_jsxs(\"div\",{className:styles.projectInfo,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.projectTopic,children:proj.theme||proj.title}),/*#__PURE__*/_jsxs(\"div\",{className:styles.projectTitle,children:[\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435: \",proj.title]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.projectStatus,children:[\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441: \",proj.status||'–Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω']})]})]})},proj.id)},proj.id))})]});case'reviews':return/*#__PURE__*/_jsxs(\"div\",{className:styles.reviewContainer,children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\u041E\\u0442\\u0437\\u044B\\u0432\\u044B \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",' ',/*#__PURE__*/_jsxs(\"span\",{style:{fontFamily:'Arial',fontWeight:'normal',fontSize:'1rem',marginLeft:'10px'},children:[\"(\",averageRating,\" \\u2605)\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.reviewListCustom,children:reviews.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u043E\\u0442\\u0437\\u044B\\u0432\\u043E\\u0432\"}):reviews.map(r=>/*#__PURE__*/_jsxs(\"div\",{className:styles.reviewItemCustom,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.reviewPhotoCustom,children:r.reviewerPhoto?/*#__PURE__*/_jsx(\"img\",{src:formatReviewerPhoto(r.reviewerPhoto),alt:r.reviewerName}):/*#__PURE__*/_jsx(\"div\",{className:styles.userPhotoPlaceholderCustom})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:r.reviewerName}),/*#__PURE__*/_jsx(\"p\",{children:r.text}),/*#__PURE__*/_jsx(\"div\",{children:renderStars(r.rating)})]})]},r.id))}),currentUserId&&!isOwnProfile()&&/*#__PURE__*/_jsxs(\"div\",{className:styles.reviewFormCustom,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u041E\\u0441\\u0442\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043E\\u0442\\u0437\\u044B\\u0432...\",value:newReviewText,onChange:e=>{setNewReviewText(e.target.value);if(e.target.value.trim()!==''){setValidationErrors(prev=>_objectSpread(_objectSpread({},prev),{},{text:''}));}},className:\"\".concat(styles.reviewTextarea,\" \").concat(validationErrors.text?styles.error:'')}),validationErrors.text&&/*#__PURE__*/_jsx(\"div\",{className:styles.errorMessage,children:validationErrors.text}),/*#__PURE__*/_jsxs(\"div\",{className:styles.ratingSection,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.ratingStars,children:[...Array(5)].map((_,index)=>{const starValue=index+1;return/*#__PURE__*/_jsx(FaStar,{size:24,className:styles.star,color:starValue<=(hoverRating||newReviewRating)?'#ffbe5a':'#ccc',onClick:()=>{setNewReviewRating(starValue);if(starValue>0){setValidationErrors(prev=>_objectSpread(_objectSpread({},prev),{},{rating:''}));}},onMouseEnter:()=>setHoverRating(starValue),onMouseLeave:()=>setHoverRating(0)},index);})}),validationErrors.rating&&/*#__PURE__*/_jsx(\"div\",{className:styles.errorMessage,children:validationErrors.rating})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddReview,className:styles.addReviewButton,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432\"})]}),isOwnProfile()&&/*#__PURE__*/_jsxs(\"div\",{className:styles.infoMessage,style:{background:'#fff3cd',border:'1px solid #ffeaa7',padding:'15px',borderRadius:'5px',marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 10px 0',color:'#856404',fontWeight:'bold'},children:\" \\u0412\\u044B \\u043F\\u0440\\u043E\\u0441\\u043C\\u0430\\u0442\\u0440\\u0438\\u0432\\u0430\\u0435\\u0442\\u0435 \\u0441\\u0432\\u043E\\u0439 \\u0441\\u043E\\u0431\\u0441\\u0442\\u0432\\u0435\\u043D\\u043D\\u044B\\u0439 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0',color:'#856404'},children:\"\\u0412\\u044B \\u043D\\u0435 \\u043C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u043E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432 \\u0441\\u0430\\u043C\\u043E\\u043C\\u0443 \\u0441\\u0435\\u0431\\u0435.\"})]}),!currentUserId&&/*#__PURE__*/_jsx(\"div\",{className:styles.infoMessage,style:{background:'#d1ecf1',border:'1px solid #bee5eb',padding:'15px',borderRadius:'5px',marginTop:'20px'},children:/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0',color:'#0c5460'},children:[\"\\uD83D\\uDD10 \\u0427\\u0442\\u043E\\u0431\\u044B \\u043E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432, \\u043D\\u0435\\u043E\\u0431\\u0445\\u043E\\u0434\\u0438\\u043C\\u043E \",/*#__PURE__*/_jsx(Link,{to:\"/signin\",style:{color:'#007bff',textDecoration:'underline'},children:\"\\u0432\\u043E\\u0439\\u0442\\u0438 \\u0432 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0443\"}),\".\"]})})]});default:return null;}};if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{className:styles.header,children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/logosmall.svg\",alt:\"IdeaFlow logo\",style:{height:80}})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.burgerMenu,onClick:toggleMenu,children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"\".concat(styles.navLinks,\" \").concat(isMenuOpen?styles.navLinksActive:''),children:[/*#__PURE__*/_jsx(Link,{to:userId?\"/profile\":\"/signin\",children:\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"}),/*#__PURE__*/_jsx(Link,{to:\"/cases\",children:\"\\u041A\\u0435\\u0439\\u0441\\u044B\"}),/*#__PURE__*/_jsx(Link,{to:\"/projects\",children:\"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B\"}),/*#__PURE__*/_jsx(Link,{to:userId?\"/profile\":\"/signin\",children:/*#__PURE__*/_jsx(\"button\",{className:styles.buttonYellow,children:\"\\u0420\\u0430\\u0437\\u043C\\u0435\\u0441\\u0442\\u0438\\u0442\\u044C \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\"})}),/*#__PURE__*/_jsx(Link,{to:\"/cases\",children:/*#__PURE__*/_jsx(\"button\",{className:styles.buttonYellow,children:\"\\u041F\\u0440\\u0438\\u0441\\u0442\\u0443\\u043F\\u0438\\u0442\\u044C \\u043A \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0443\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.mobileFooterMenu,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.footerContacts,children:[\"\\u0421\\u0432\\u044F\\u0437\\u0430\\u0442\\u044C\\u0441\\u044F \\u0441 \\u043D\\u0430\\u043C\\u0438 \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:\"mailto:support@ideaflow.com\",children:\"support@ideaflow.com\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"+7 (123) 456-78-90\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.footerSocials,children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/facebook.svg\",alt:\"Facebook\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/twitterx.svg\",alt:\"Twitter\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/instagram.svg\",alt:\"Instagram\"})})]})]})]}),isMenuOpen&&/*#__PURE__*/_jsx(\"div\",{className:styles.overlay,onClick:toggleMenu})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.userInfo,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.photoWrapper,children:formData.photo?/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:3001\".concat(formData.photo),alt:\"User\",className:styles.userPhoto}):/*#__PURE__*/_jsx(\"div\",{className:styles.userPhotoPlaceholder,children:\"\\u0424\\u043E\\u0442\\u043E\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.infoDisplay,children:[/*#__PURE__*/_jsxs(\"h1\",{className:styles.title,children:[formData.firstName,\" \",formData.lastName]}),/*#__PURE__*/_jsx(\"p\",{children:formData.username}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"\\u041E \\u0441\\u0435\\u0431\\u0435:\"}),\" \",formData.about||'–ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.tabsContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.tabs,children:[/*#__PURE__*/_jsx(\"button\",{className:\"\".concat(styles.tabButton,\" \").concat(activeTab==='projects'?styles.active:''),onClick:()=>setActiveTab('projects'),children:\"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B\"}),/*#__PURE__*/_jsx(\"button\",{className:\"\".concat(styles.tabButton,\" \").concat(activeTab==='cases'?styles.active:''),onClick:()=>setActiveTab('cases'),children:\"\\u041A\\u0435\\u0439\\u0441\\u044B\"}),/*#__PURE__*/_jsx(\"button\",{className:\"\".concat(styles.tabButton,\" \").concat(activeTab==='reviews'?styles.active:''),onClick:()=>setActiveTab('reviews'),children:\"\\u041E\\u0442\\u0437\\u044B\\u0432\\u044B\"})]}),renderTabContent()]}),/*#__PURE__*/_jsxs(\"footer\",{className:styles.footer,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.footerContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.footerLogo,children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/logobig.svg\",alt:\"Big Logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.footerContacts,children:[\"\\u0421\\u0432\\u044F\\u0437\\u0430\\u0442\\u044C\\u0441\\u044F \\u0441 \\u043D\\u0430\\u043C\\u0438 \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:\"mailto:support@ideaflow.com\",children:\"support@ideaflow.com\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"+7 (123) 456-78-90\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.footerSocials,children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/facebook.svg\",alt:\"Facebook\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/twitterx.svg\",alt:\"Twitter\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/instagram.svg\",alt:\"Instagram\"})})]})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:20,textAlign:'center',marginTop:10},children:\"\\u041C\\u0435\\u0441\\u0442\\u043E, \\u0433\\u0434\\u0435 \\u0438\\u0434\\u0435\\u0438 \\u043F\\u0440\\u0435\\u0432\\u0440\\u0430\\u0449\\u0430\\u044E\\u0442\\u0441\\u044F \\u0432 \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u044B\\u0435 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B \\u0431\\u043B\\u0430\\u0433\\u043E\\u0434\\u0430\\u0440\\u044F \\u0441\\u043E\\u0442\\u0440\\u0443\\u0434\\u043D\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u0443 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0447\\u0438\\u043A\\u043E\\u0432 \\u0438 \\u0444\\u0440\\u0438\\u043B\\u0430\\u043D\\u0441\\u0435\\u0440\\u043E\\u0432.\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","Link","FaStar","styles","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ProfileView","navigate","userId","paramUserId","setUserId","currentUserId","setCurrentUserId","userEmail","setUserEmail","activeTab","setActiveTab","formData","setFormData","photo","firstName","lastName","username","about","currentUserData","setCurrentUserData","loading","setLoading","error","setError","projectsAsCustomer","setProjectsAsCustomer","completedExecutorProjects","setCompletedExecutorProjects","inProcessExecutorCases","setInProcessExecutorCases","reviews","setReviews","newReviewText","setNewReviewText","newReviewRating","setNewReviewRating","hoverRating","setHoverRating","validationErrors","setValidationErrors","text","rating","isMenuOpen","setIsMenuOpen","toggleMenu","checkAuth","storedUserId","localStorage","getItem","fetchCurrentUser","res","fetch","concat","ok","userData","json","id","err","console","fetchUserData","Error","data","email","description","message","fetchProjectsAsCustomer","resProjects","projectsDataRaw","projectsData","filter","p","status","resCases","casesDataRaw","casesData","c","combined","sort","a","b","fetchCompletedExecutorProjects","encodeURIComponent","closedProjects","_unused","fetchInProcessExecutorCases","filtered","executorId","Number","_unused2","fetchReviews","response","then","renderStars","children","Array","map","_","idx","starValue","size","color","averageRating","length","reduce","acc","r","toFixed","validateReview","errors","trim","handleAddReview","alert","newReview","reviewerId","reviewerName","reviewerPhoto","method","headers","body","JSON","stringify","updatedReviews","formatReviewerPhoto","photoPath","startsWith","isOwnProfile","toString","renderTabContent","className","projectsTitle","tabContent","projectsTab","projectCard","to","casesLink","src","cover","alt","executorEmail","projectImage","projectInfo","projectTopic","theme","title","projectTitle","projectStatus","projectLink","projectPerformer","userCompletedProjects","proj","casesTab","casesGrid","caseCard","projCardLink","reviewContainer","style","fontFamily","fontWeight","fontSize","marginLeft","reviewListCustom","reviewItemCustom","reviewPhotoCustom","userPhotoPlaceholderCustom","reviewFormCustom","placeholder","value","onChange","e","target","prev","_objectSpread","reviewTextarea","errorMessage","ratingSection","ratingStars","index","star","onClick","onMouseEnter","onMouseLeave","addReviewButton","infoMessage","background","border","padding","borderRadius","marginTop","margin","textDecoration","header","height","burgerMenu","navLinks","navLinksActive","buttonYellow","mobileFooterMenu","footerContacts","href","footerSocials","overlay","userInfo","photoWrapper","userPhoto","userPhotoPlaceholder","infoDisplay","tabsContainer","tabs","tabButton","active","footer","footerContainer","footerLogo","textAlign"],"sources":["D:/PROJECTS/IdeaFlowProject/client/src/pages/ProfileView.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useParams, Link } from 'react-router-dom';\r\nimport { FaStar } from 'react-icons/fa';\r\nimport styles from './ProfileView.module.css';\r\n\r\nexport default function ProfileView() {\r\n  const navigate = useNavigate();\r\n  const { userId: paramUserId } = useParams();\r\n\r\n  const [userId, setUserId] = useState(paramUserId);\r\n  const [currentUserId, setCurrentUserId] = useState(null);\r\n  const [userEmail, setUserEmail] = useState('');\r\n  const [activeTab, setActiveTab] = useState('projects');\r\n  const [formData, setFormData] = useState({\r\n    photo: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    username: '',\r\n    about: '',\r\n  });\r\n  const [currentUserData, setCurrentUserData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    photo: '',\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [projectsAsCustomer, setProjectsAsCustomer] = useState([]);\r\n  const [completedExecutorProjects, setCompletedExecutorProjects] = useState([]);\r\n  const [inProcessExecutorCases, setInProcessExecutorCases] = useState([]);\r\n  const [reviews, setReviews] = useState([]);\r\n  const [newReviewText, setNewReviewText] = useState('');\r\n  const [newReviewRating, setNewReviewRating] = useState(0);\r\n  const [hoverRating, setHoverRating] = useState(0);\r\n  const [validationErrors, setValidationErrors] = useState({\r\n    text: '',\r\n    rating: ''\r\n  });\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n  const toggleMenu = () => {\r\n    setIsMenuOpen(!isMenuOpen);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const checkAuth = () => {\r\n      const storedUserId = localStorage.getItem('currentUserId');\r\n      if (!storedUserId) {\r\n        navigate('/signin');\r\n        return;\r\n      }\r\n      setCurrentUserId(storedUserId);\r\n    };\r\n\r\n    checkAuth();\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    const fetchCurrentUser = async () => {\r\n      try {\r\n        const storedUserId = localStorage.getItem('currentUserId');\r\n        if (storedUserId) {\r\n          const res = await fetch(`http://localhost:3001/profile/${storedUserId}`);\r\n          if (res.ok) {\r\n            const userData = await res.json();\r\n            setCurrentUserId(userData.id);\r\n            setCurrentUserData({\r\n              firstName: userData.firstName || '',\r\n              lastName: userData.lastName || '',\r\n              photo: userData.photo || '',\r\n            });\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', err);\r\n      }\r\n    };\r\n\r\n    if (currentUserId) {\r\n      fetchCurrentUser();\r\n    }\r\n  }, [currentUserId]);\r\n\r\n  useEffect(() => {\r\n    if (!userId) {\r\n      navigate('/signin');\r\n      return;\r\n    }\r\n    setUserId(userId);\r\n  }, [navigate, userId]);\r\n\r\n  useEffect(() => {\r\n    if (!userId) return;\r\n\r\n    const fetchUserData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const res = await fetch(`http://localhost:3001/profile/${userId}`);\r\n        if (!res.ok) throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');\r\n        const data = await res.json();\r\n        setFormData({\r\n          photo: data.photo || '',\r\n          firstName: data.firstName || '',\r\n          lastName: data.lastName || '',\r\n          username: data.email || '',\r\n          about: data.description || '',\r\n        });\r\n        setUserEmail(data.email || '');\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    const fetchProjectsAsCustomer = async () => {\r\n      try {\r\n        const resProjects = await fetch(`http://localhost:3001/projects?userId=${userId}`);\r\n        if (!resProjects.ok) throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∫–∞–∫ –∑–∞–∫–∞–∑—á–∏–∫–∞');\r\n        const projectsDataRaw = await resProjects.json();\r\n        const projectsData = projectsDataRaw.filter(p => p.status === 'closed');\r\n\r\n        const resCases = await fetch(`http://localhost:3001/cases?userId=${userId}`);\r\n        if (!resCases.ok) throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–µ–π—Å–æ–≤ –∑–∞–∫–∞–∑—á–∏–∫–∞');\r\n        const casesDataRaw = await resCases.json();\r\n        const casesData = casesDataRaw.filter(c => c.status === 'open');\r\n\r\n        const combined = [...casesData, ...projectsData];\r\n        combined.sort((a, b) => {\r\n          if (a.status === 'open' && b.status !== 'open') return -1;\r\n          if (a.status !== 'open' && b.status === 'open') return 1;\r\n          return 0;\r\n        });\r\n\r\n        setProjectsAsCustomer(combined);\r\n      } catch (error) {\r\n        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –∫–µ–π—Å–æ–≤:', error);\r\n        setProjectsAsCustomer([]);\r\n      }\r\n    };\r\n\r\n    const fetchCompletedExecutorProjects = async () => {\r\n      try {\r\n        const res = await fetch(`http://localhost:3001/projects?executorEmail=${encodeURIComponent(userEmail)}`);\r\n        if (!res.ok) throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è');\r\n        const data = await res.json();\r\n        const closedProjects = data.filter(p => p.status === 'closed');\r\n        setCompletedExecutorProjects(closedProjects);\r\n      } catch {\r\n        setCompletedExecutorProjects([]);\r\n      }\r\n    };\r\n\r\n    const fetchInProcessExecutorCases = async () => {\r\n      try {\r\n        const res = await fetch(`http://localhost:3001/processed-cases`);\r\n        if (!res.ok) throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–Ω—è—Ç—ã—Ö –∫–µ–π—Å–æ–≤');\r\n        const data = await res.json();\r\n        const filtered = data.filter(\r\n          c => c.executorId === Number(userId) && c.status === 'in_process'\r\n        );\r\n        setInProcessExecutorCases(filtered);\r\n      } catch {\r\n        setInProcessExecutorCases([]);\r\n      }\r\n    };\r\n\r\n    const fetchReviews = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:3001/reviews?userId=${userId}`);\r\n        if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–∑—ã–≤–æ–≤');\r\n        const data = await response.json();\r\n        setReviews(data);\r\n      } catch (err) {\r\n        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–∑—ã–≤–æ–≤:', err);\r\n      }\r\n    };\r\n\r\n    fetchUserData().then(() => {\r\n      fetchProjectsAsCustomer();\r\n      fetchCompletedExecutorProjects();\r\n      fetchInProcessExecutorCases();\r\n      fetchReviews();\r\n    });\r\n  }, [userId, userEmail, navigate]);\r\n\r\n  const renderStars = rating => (\r\n    <>\r\n      {[...Array(5)].map((_, idx) => {\r\n        const starValue = idx + 1;\r\n        return <FaStar key={idx} size={18} color={starValue <= rating ? '#ffbe5a' : '#ccc'} />;\r\n      })}\r\n    </>\r\n  );\r\n\r\n  const averageRating =\r\n    reviews.length > 0 ? (reviews.reduce((acc, r) => acc + r.rating, 0) / reviews.length).toFixed(1) : 0;\r\n\r\n  const validateReview = () => {\r\n    const errors = {\r\n      text: '',\r\n      rating: ''\r\n    };\r\n\r\n    if (newReviewText.trim() === '') {\r\n      errors.text = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞–ø–∏—à–∏—Ç–µ —Ç–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞';\r\n    }\r\n\r\n    if (newReviewRating === 0) {\r\n      errors.rating = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ—Ü–µ–Ω–∫—É';\r\n    }\r\n\r\n    setValidationErrors(errors);\r\n    return !errors.text && !errors.rating;\r\n  };\r\n\r\n  const handleAddReview = async () => {\r\n    setValidationErrors({ text: '', rating: '' });\r\n\r\n    if (!validateReview()) {\r\n      return;\r\n    }\r\n\r\n    if (!currentUserId) {\r\n      alert('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞');\r\n      return;\r\n    }\r\n\r\n    if (currentUserId === userId) {\r\n      alert('–ù–µ–ª—å–∑—è –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–∑—ã–≤ —Å–∞–º–æ–º—É —Å–µ–±–µ');\r\n      return;\r\n    }\r\n\r\n    const newReview = {\r\n      userId,\r\n      reviewerId: currentUserId,\r\n      reviewerName: `${currentUserData.firstName} ${currentUserData.lastName}`.trim() || 'Anonymous',\r\n      reviewerPhoto: currentUserData.photo || '',\r\n      text: newReviewText.trim(),\r\n      rating: newReviewRating,\r\n    };\r\n\r\n    try {\r\n      const res = await fetch('http://localhost:3001/reviews', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(newReview),\r\n      });\r\n      if (!res.ok) throw new Error('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞');\r\n      setNewReviewText('');\r\n      setNewReviewRating(0);\r\n      const updatedReviews = await res.json();\r\n      setReviews(updatedReviews);\r\n      setValidationErrors({ text: '', rating: '' });\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞:', err);\r\n      alert(err.message);\r\n    }\r\n  };\r\n\r\n  const formatReviewerPhoto = (photoPath) => {\r\n    if (!photoPath) return null;\r\n    if (photoPath.startsWith('http')) return photoPath;\r\n    if (photoPath.startsWith('/')) return `http://localhost:3001${photoPath}`;\r\n    return photoPath;\r\n  };\r\n\r\n  const isOwnProfile = () => {\r\n    return currentUserId && userId && currentUserId.toString() === userId.toString();\r\n  };\r\n\r\n  const renderTabContent = () => {\r\n    switch (activeTab) {\r\n      case 'projects':\r\n        return (\r\n          <>\r\n            <h3 className={styles.projectsTitle}>–ü—Ä–æ–µ–∫—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>\r\n            <div className={`${styles.tabContent} ${styles.projectsTab}`}>\r\n              {projectsAsCustomer.map((p) => (\r\n                <div key={p.id} className={styles.projectCard}>\r\n                  {p.status === 'open' ? (\r\n                    <Link to={`/cases/${p.id}`} className={styles.casesLink}>\r\n                      <img\r\n                        src={`http://localhost:3001${p.cover || ''}`}\r\n                        alt={`–§–æ—Ç–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è ${p.executorEmail || '–ù–µ —É–∫–∞–∑–∞–Ω'}`}\r\n                        className={styles.projectImage}\r\n                      />\r\n                      <div className={styles.projectInfo}>\r\n                        <div className={styles.projectTopic}>{p.theme || p.title}</div>\r\n                        <div className={styles.projectTitle}>–ù–∞–∑–≤–∞–Ω–∏–µ: {p.title}</div>\r\n                        <div className={styles.projectStatus}>–°—Ç–∞—Ç—É—Å: {p.status || '–Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω'}</div>\r\n                      </div>\r\n                    </Link>\r\n                  ) : (\r\n                    <Link to={`/projects/${p.id}`} className={styles.projectLink}>\r\n                      <img\r\n                        src={`http://localhost:3001${p.cover || ''}`}\r\n                        alt={`–§–æ—Ç–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è ${p.executorEmail || '–ù–µ —É–∫–∞–∑–∞–Ω'}`}\r\n                        className={styles.projectImage}\r\n                      />\r\n                      <div className={styles.projectInfo}>\r\n                        <div className={styles.projectPerformer}>\r\n                          –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: {p.executorEmail || '–ù–µ —É–∫–∞–∑–∞–Ω'}\r\n                        </div>\r\n                        <div className={styles.projectTopic}>{p.theme || p.title}</div>\r\n                        <div className={styles.projectTitle}>–ù–∞–∑–≤–∞–Ω–∏–µ: {p.title}</div>\r\n                        <div className={styles.projectStatus}>–°—Ç–∞—Ç—É—Å: {p.status || '–Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω'}</div>\r\n                      </div>\r\n                    </Link>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </>\r\n        );\r\n      case 'cases':\r\n    // –§–∏–ª—å—Ç—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç—ã –ø–æ executorEmail –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —á–µ–π –ø—Ä–æ—Ñ–∏–ª—å –º—ã —Å–º–æ—Ç—Ä–∏–º\r\n    const userCompletedProjects = completedExecutorProjects.filter(proj => \r\n        proj.executorEmail === userEmail\r\n    );\r\n    \r\n    return (\r\n      <div className={`${styles.tabContent} ${styles.casesTab}`}>\r\n        <h3>–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>\r\n        {userCompletedProjects.length === 0 ? (\r\n          <p>–ü–æ–∫–∞ –ø—É—Å—Ç–æ</p>\r\n        ) : (\r\n          <div className={styles.casesGrid}>\r\n            {userCompletedProjects.map(proj => (\r\n              <div key={proj.id} className={styles.caseCard}>\r\n                <Link to={`/projects/${proj.id}`} key={proj.id} className={styles.projCardLink}>\r\n                  <div className={styles.projectCard}>\r\n                    <img\r\n                      className={styles.projectImage}\r\n                      src={`http://localhost:3001${proj.cover || ''}`}\r\n                      alt={`–§–æ—Ç–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è ${proj.executorEmail}`}\r\n                    />\r\n                    <div className={styles.projectInfo}>\r\n                      <div className={styles.projectTopic}>{proj.theme || proj.title}</div>\r\n                      <div className={styles.projectTitle}>–ù–∞–∑–≤–∞–Ω–∏–µ: {proj.title}</div>\r\n                      <div className={styles.projectStatus}>–°—Ç–∞—Ç—É—Å: {proj.status || '–Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω'}</div>\r\n                    </div>\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n      case 'reviews':\r\n        return (\r\n          <div className={styles.reviewContainer}>\r\n            <h3>\r\n              –û—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è{' '}\r\n              <span style={{ fontFamily: 'Arial', fontWeight: 'normal', fontSize: '1rem', marginLeft: '10px' }}>\r\n                ({averageRating} ‚òÖ)\r\n              </span>\r\n            </h3>\r\n            <div className={styles.reviewListCustom}>\r\n              {reviews.length === 0 ? (\r\n                <p>–ü–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∑—ã–≤–æ–≤</p>\r\n              ) : (\r\n                reviews.map((r) => (\r\n                  <div key={r.id} className={styles.reviewItemCustom}>\r\n                    <div className={styles.reviewPhotoCustom}>\r\n                      {r.reviewerPhoto ? (\r\n                        <img src={formatReviewerPhoto(r.reviewerPhoto)} alt={r.reviewerName} />\r\n                      ) : (\r\n                        <div className={styles.userPhotoPlaceholderCustom}></div>\r\n                      )}\r\n                    </div>\r\n                    <div>\r\n                      <b>{r.reviewerName}</b>\r\n                      <p>{r.text}</p>\r\n                      <div>{renderStars(r.rating)}</div>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n            \r\n            {currentUserId && !isOwnProfile() && (\r\n              <div className={styles.reviewFormCustom}>\r\n                <h4>–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</h4>\r\n                \r\n                <textarea\r\n                  placeholder=\"–û—Å—Ç–∞–≤—å—Ç–µ –æ—Ç–∑—ã–≤...\"\r\n                  value={newReviewText}\r\n                  onChange={(e) => {\r\n                    setNewReviewText(e.target.value);\r\n                    if (e.target.value.trim() !== '') {\r\n                      setValidationErrors(prev => ({ ...prev, text: '' }));\r\n                    }\r\n                  }}\r\n                  className={`${styles.reviewTextarea} ${validationErrors.text ? styles.error : ''}`}\r\n                />\r\n                {validationErrors.text && (\r\n                  <div className={styles.errorMessage}>{validationErrors.text}</div>\r\n                )}\r\n                \r\n                <div className={styles.ratingSection}>\r\n                  <div className={styles.ratingStars}>\r\n                    {[...Array(5)].map((_, index) => {\r\n                      const starValue = index + 1;\r\n                      return (\r\n                        <FaStar\r\n                          key={index}\r\n                          size={24}\r\n                          className={styles.star}\r\n                          color={starValue <= (hoverRating || newReviewRating) ? '#ffbe5a' : '#ccc'}\r\n                          onClick={() => {\r\n                            setNewReviewRating(starValue);\r\n                            if (starValue > 0) {\r\n                              setValidationErrors(prev => ({ ...prev, rating: '' }));\r\n                            }\r\n                          }}\r\n                          onMouseEnter={() => setHoverRating(starValue)}\r\n                          onMouseLeave={() => setHoverRating(0)}\r\n                        />\r\n                      );\r\n                    })}\r\n                  </div>\r\n                  {validationErrors.rating && (\r\n                    <div className={styles.errorMessage}>{validationErrors.rating}</div>\r\n                  )}\r\n                </div>\r\n                \r\n                <button \r\n                  onClick={handleAddReview}\r\n                  className={styles.addReviewButton}\r\n                >\r\n                  –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {isOwnProfile() && (\r\n              <div className={styles.infoMessage} style={{background: '#fff3cd', border: '1px solid #ffeaa7', padding: '15px', borderRadius: '5px', marginTop: '20px'}}>\r\n                <p style={{margin: '0 0 10px 0', color: '#856404', fontWeight: 'bold'}}> –í—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç–µ —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å</p>\r\n                <p style={{margin: '0', color: '#856404'}}>–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ —Å–∞–º–æ–º—É —Å–µ–±–µ.</p>\r\n              </div>\r\n            )}\r\n\r\n            {!currentUserId && (\r\n              <div className={styles.infoMessage} style={{background: '#d1ecf1', border: '1px solid #bee5eb', padding: '15px', borderRadius: '5px', marginTop: '20px'}}>\r\n                <p style={{margin: '0', color: '#0c5460'}}>üîê –ß—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ <Link to=\"/signin\" style={{color: '#007bff', textDecoration: 'underline'}}>–≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</Link>.</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  if (loading) return <p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...</p>;\r\n  if (error) return <p style={{ color: 'red' }}>{error}</p>;\r\n\r\n  return (\r\n    <>\r\n      <header className={styles.header}>\r\n              <Link to=\"/\">\r\n                <img src=\"/images/logosmall.svg\" alt=\"IdeaFlow logo\" style={{ height: 80 }} />\r\n              </Link>\r\n              \r\n              {/* –ë—É—Ä–≥–µ—Ä –º–µ–Ω—é */}\r\n              <div className={styles.burgerMenu} onClick={toggleMenu}>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n              </div>\r\n      \r\n              <nav className={`${styles.navLinks} ${isMenuOpen ? styles.navLinksActive : ''}`}>\r\n                <Link to={userId ? \"/profile\" : \"/signin\"}>–ü—Ä–æ—Ñ–∏–ª—å</Link>\r\n                <Link to=\"/cases\">–ö–µ–π—Å—ã</Link>\r\n                <Link to=\"/projects\">–ü—Ä–æ–µ–∫—Ç—ã</Link>\r\n                <Link to={userId ? \"/profile\" : \"/signin\"}>\r\n                  <button className={styles.buttonYellow}>–†–∞–∑–º–µ—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç</button>\r\n                </Link>\r\n                <Link to=\"/cases\">\r\n                  <button className={styles.buttonYellow}>–ü—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É</button>\r\n                </Link>\r\n                \r\n                {/* –≠–ª–µ–º–µ–Ω—Ç—ã –∏–∑ —Ñ—É—Ç–µ—Ä–∞ –≤ –º–æ–±–∏–ª—å–Ω–æ–º –º–µ–Ω—é */}\r\n                <div className={styles.mobileFooterMenu}>\r\n                  <div className={styles.footerContacts}>\r\n                    –°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏ <br />\r\n                    <a href=\"mailto:support@ideaflow.com\">support@ideaflow.com</a>\r\n                    <br />\r\n                    <p>+7 (123) 456-78-90</p>\r\n                  </div>\r\n                  <div className={styles.footerSocials}>\r\n                    <a href=\"#\">\r\n                      <img src=\"/images/facebook.svg\" alt=\"Facebook\" />\r\n                    </a>\r\n                    <a href=\"#\">\r\n                      <img src=\"/images/twitterx.svg\" alt=\"Twitter\" />\r\n                    </a>\r\n                    <a href=\"#\">\r\n                      <img src=\"/images/instagram.svg\" alt=\"Instagram\" />\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </nav>\r\n      \r\n              {/* –û–≤–µ—Ä–ª–µ–π –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é */}\r\n              {isMenuOpen && <div className={styles.overlay} onClick={toggleMenu}></div>}\r\n            </header>\r\n\r\n      <div className={styles.userInfo}>\r\n        <div className={styles.photoWrapper}>\r\n          {formData.photo ? (\r\n            <img src={`http://localhost:3001${formData.photo}`} alt=\"User\" className={styles.userPhoto} />\r\n          ) : (\r\n            <div className={styles.userPhotoPlaceholder}>–§–æ—Ç–æ</div>\r\n          )}\r\n        </div>\r\n        <div className={styles.infoDisplay}>\r\n          <h1 className={styles.title}>\r\n            {formData.firstName} {formData.lastName}\r\n          </h1>\r\n          <p>{formData.username}</p>\r\n          <p>\r\n            <b>–û —Å–µ–±–µ:</b> {formData.about || '–ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏'}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={styles.tabsContainer}>\r\n        <div className={styles.tabs}>\r\n          <button\r\n            className={`${styles.tabButton} ${activeTab === 'projects' ? styles.active : ''}`}\r\n            onClick={() => setActiveTab('projects')}\r\n          >\r\n            –ü—Ä–æ–µ–∫—Ç—ã\r\n          </button>\r\n          <button\r\n            className={`${styles.tabButton} ${activeTab === 'cases' ? styles.active : ''}`}\r\n            onClick={() => setActiveTab('cases')}\r\n          >\r\n            –ö–µ–π—Å—ã\r\n          </button>\r\n          <button\r\n            className={`${styles.tabButton} ${activeTab === 'reviews' ? styles.active : ''}`}\r\n            onClick={() => setActiveTab('reviews')}\r\n          >\r\n            –û—Ç–∑—ã–≤—ã\r\n          </button>\r\n        </div>\r\n        {renderTabContent()}\r\n      </div>\r\n\r\n      <footer className={styles.footer}>\r\n        <div className={styles.footerContainer}>\r\n          <div className={styles.footerLogo}>\r\n            <img src=\"/images/logobig.svg\" alt=\"Big Logo\" />\r\n          </div>\r\n          <div className={styles.footerContacts}>\r\n            –°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏ <br />\r\n            <a href=\"mailto:support@ideaflow.com\">support@ideaflow.com</a>\r\n            <br />\r\n            <p>+7 (123) 456-78-90</p>\r\n          </div>\r\n          <div className={styles.footerSocials}>\r\n            <a href=\"#\"><img src=\"/images/facebook.svg\" alt=\"Facebook\" /></a>\r\n            <a href=\"#\"><img src=\"/images/twitterx.svg\" alt=\"Twitter\" /></a>\r\n            <a href=\"#\"><img src=\"/images/instagram.svg\" alt=\"Instagram\" /></a>\r\n          </div>\r\n        </div>\r\n        <p style={{ fontSize: 20, textAlign: 'center', marginTop: 10 }}>\r\n          –ú–µ—Å—Ç–æ, –≥–¥–µ –∏–¥–µ–∏ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —É—Å–ø–µ—à–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –±–ª–∞–≥–æ–¥–∞—Ä—è —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤—É –∑–∞–∫–∞–∑—á–∏–∫–æ–≤ –∏ —Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä–æ–≤.\r\n        </p>\r\n      </footer>\r\n    </>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}